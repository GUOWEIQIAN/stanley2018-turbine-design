We used the FLORIS wake model to predict the wind speeds throughout the wind farms in our study \citep{gebraad2016wind}. 
The FLORIS model had some discontinuities in the original formulation, so in this study we used a version that has been modified to be smooth and continuously differentiable, enabling gradient-based optimization \citep{thomas2017improving}.

The total velocity deficit at any given point was defined as the square root of the sum of the squares of the loss contribution from each turbine wake:
\begin{equation}
L = \sqrt{\sum_{i=1}^\text{nTurbs}L_i^2}
\end{equation}
\noindent Variations of the free stream wind speed with height are calculated with the wind profile power law: 
\begin{equation}
V = V_{\text{ref}}\Big(\frac{z}{z_{\text{ref}}}\Big)^\alpha
\label{Eq:shear}
\end{equation}
where $V$ is the wind speed at height $z$; $V_{\text{ref}}$ is the reference wind speed given by the wind data; $z_{\text{ref}}$ is height at which the reference wind speed was measured, which we assumed to be 50 meters;  and $\alpha$ is the wind shear exponent, which defines how the wind speed varies with height.